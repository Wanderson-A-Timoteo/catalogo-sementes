<!DOCTYPE html>
<html lang="pt-br>
<head>
    <meta charset=" UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Detalhes da Semente</title>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
</head>

<body>
  <div class="container mt-5">
    <div id="detalhes-container">
    </div>
    <a href="./listagem.html" class="btn btn-secondary mt-3">Voltar para a Listagem</a>
  </div>

  <script>
    const apiUrl = 'http://localhost:3000/sementes';

    // Fun√ß√£o para pegar o nome da semente da URL (ex: ?nome=Tomate%20Cereja)
    function getNomeDaSementePelaUrl() {
      const params = new URLSearchParams(window.location.search);
      return params.get('nome');
    }

    async function carregarDetalhes() {
      const nomeSemente = getNomeDaSementePelaUrl();
      const container = document.getElementById('detalhes-container');

      if (!nomeSemente) {
        container.innerHTML = '<div class="alert alert-danger">Nenhuma semente especificada.</div>';
        return;
      }

      try {
        const response = await fetch(`${apiUrl}/${encodeURIComponent(nomeSemente)}`);
        if (!response.ok) {
          throw new Error('Semente n√£o encontrada');
        }
        const semente = await response.json();

        container.innerHTML = `
                    <h1 class="mb-3">üå± ${semente.nome}</h1>
                    <div class="card">
                        <div class="card-body">
                            <h5 class="card-title">Descri√ß√£o</h5>
                            <p class="card-text">${semente.descricao}</p>
                            <h5 class="card-title mt-4">Estoque</h5>
                            <p class="card-text">${semente.estoque} unidades</p>
                        </div>
                    </div>
                `;
      } catch (error) {
        container.innerHTML = `<div class="alert alert-danger">Erro ao carregar detalhes: ${error.message}</div>`;
      }
    }

    document.addEventListener('DOMContentLoaded', carregarDetalhes);
  </script>
</body>

</html>
